<!DOCTYPE html>
<html
  lang="eng"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
  xmlns:th="http://www.thymeleaf.org"
>
  <head>
    <meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />

    <!--/*/ <th:block th:include="fragments/head :: head"></th:block> /*/-->
    <title>Profile</title>
  </head>
  <link rel="stylesheet" th:href="@{/css/profile.css}" />
  <script>
    // Function to open the modal
    function openModal() {
        var modal = document.getElementById('avatarModal');
        modal.style.display = 'block';
    }

    // Function to close the modal
    function closeModal() {
        var modal = document.getElementById('avatarModal');
        modal.style.display = 'none';
    }

    var selectedAvatarUrl = '';

// Function to select an avatar
function selectAvatar(avatarUrl) {
    // Update the selectedAvatarUrl variable
    selectedAvatarUrl = avatarUrl;
    var images = document.getElementsByClassName('avatar');
    // Remove 'active' class from all images
    for (var i = 0; i < images.length; i++) {
        images[i].classList.remove('active');
    }
    event.target.classList.add('active');
    console.log(selectedAvatarUrl)

}
    function updateProfilePic(picUrl) {
      var csrfToken = $("meta[name='_csrf']").attr("content");
      var csrfHeader = $("meta[name='_csrf_header']").attr("content");
      $.ajax({
          url: '/profile/profilePicUpdate',
          type: 'POST',
          contentType: 'application/json',
          beforeSend: function(xhr) {
              xhr.setRequestHeader(csrfHeader, csrfToken);
          },
          data: JSON.stringify(picUrl),
          success: function(response) {
              console.log(response);
              // Handle success, such as displaying a success message
          },
          error: function(xhr, status, error) {
              console.error(xhr.responseText);
              // Handle error, such as displaying an error message
          }
      });
  }
  
  

  function confirmAvatar() {
    var modal = document.getElementById('avatarModal');
    modal.style.display = 'none';
    
    // Check if an avatar is selected
    if (selectedAvatarUrl) {
        // Update the profile picture with the selected avatar URL
        document.getElementById('profilePic').src = selectedAvatarUrl;
        
        // Call the function to update profile picture in the database
        updateProfilePic(selectedAvatarUrl);
        
        // Reset the selectedAvatarUrl variable
        selectedAvatarUrl = '';
        
        // Here you can send the selected avatar URL to your backend to update the user's profile picture in the database
        // For now, let's just log the selected avatar URL
        console.log('Selected profile picture:', selectedAvatarUrl);
        // window.location.reload();
    } else {
        console.log('No avatar selected.');
    }
}
</script>
  <body>
    <header>
      <!--/*/ <th:block th:include="fragments/header :: header('profile')"></th:block> /*/-->
  </header>
<!-- Sidenav -->
<div class="sidenav">
  <div class="profile">
      <img id="profilePic" th:src="${photoUrl}" alt="https://e7.pngegg.com/pngimages/442/477/png-clipart-computer-icons-user-profile-avatar-profile-heroes-profile-thumbnail.png" width="100" height="100" />
      <div class="name" th:text="${user.name}"></div>
      <div class="job" th:text="${user.email}"></div>
      <!-- Change Profile Picture Button -->
      <button onclick="openModal()">Change Profile Picture</button>
      <!-- <button onclick="openPasswordModal()">Change Password</button> -->
  </div>
  <div class="sidenav-url">
      <div class="url">
          <a href="#profile" class="active">Profile</a>
          <hr align="center" />
      </div>
  </div>
</div>
<!-- End -->

<!-- Modal for changing profile picture -->
<div id="avatarModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <!-- Avatar options -->
    <div class="avatar-options">
      <!-- <img class="avatar" name="picUrl" src="https://png.pngtree.com/png-vector/20211027/ourmid/pngtree-avatar-a-man-with-jacket-png-image_4003791.png" alt="Avatar 1" onclick="selectAvatar('https://png.pngtree.com/png-vector/20211027/ourmid/pngtree-avatar-a-man-with-jacket-png-image_4003791.png')"> -->
      <img class="avatar" name="picUrl" style="height: 100px;" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRDS2BeQSBhyG3Vmfi4VJg-QQODkXiOmTD6eejMWQdSXrv3k5vrKGYe2T2auF9BSKU6XzY&usqp=CAU" alt="Avatar 2" onclick="selectAvatar('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRDS2BeQSBhyG3Vmfi4VJg-QQODkXiOmTD6eejMWQdSXrv3k5vrKGYe2T2auF9BSKU6XzY&usqp=CAU')">
      <img class="avatar" name="picUrl" style="height: 100px;" src="data:image/jpeg;base64,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" alt="Avatar 2" onclick="selectAvatar('data:image/jpeg;base64,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')">
      <img class="avatar" name="picUrl" style="height: 100px;" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTga91mI7oGS7V_gzea3R7XEghq0LoRHGZZzQ&usqp=CAU" alt="Avatar 2" onclick="selectAvatar('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTga91mI7oGS7V_gzea3R7XEghq0LoRHGZZzQ&usqp=CAU')">
      <img class="avatar" name="picUrl" style="height: 100px;" src="data:image/jpeg;base64,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" alt="Avatar 2" onclick="selectAvatar('data:image/jpeg;base64,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')">
      <img class="avatar" name="picUrl" style="height: 100px;" src="https://static.vecteezy.com/system/resources/thumbnails/009/397/892/small/woman-face-expression-clipart-design-illustration-free-png.png" alt="Avatar 2" onclick="selectAvatar('https://static.vecteezy.com/system/resources/thumbnails/009/397/892/small/woman-face-expression-clipart-design-illustration-free-png.png')">
      <img class="avatar" name="picUrl" style="height: 100px;" src="https://static.vecteezy.com/system/resources/thumbnails/009/379/900/small/woman-face-expression-clipart-design-illustration-free-png.png" alt="Avatar 2" onclick="selectAvatar('https://static.vecteezy.com/system/resources/thumbnails/009/379/900/small/woman-face-expression-clipart-design-illustration-free-png.png')">

      
      <!-- Add more avatar options as needed -->
    </div>
    <!-- Confirm button -->
    <button onclick="confirmAvatar()">Confirm</button>
  </div>
</div>

<!-- End Modal -->
    <!-- Main -->
    <div class="main">
      <h2>IDENTITY</h2>
      <div class="card">
        <div class="card-body">
          <i class="fa fa-pen fa-xs edit"></i>
          <table>
            <tbody>
              <tr>
                <td>Name</td>
                <td>:</td>
                <td th:text="${user.name}"></td>
              </tr>
              <tr>
                <td>Email</td>
                <td>:</td>
                <td th:text="${user.email}"></td>
              </tr>
              <tr>
                <td>Company</td>
                <td>:</td>
                <td>Torry Harris Integration Solutions</td>
              </tr>
              <tr>
                <td>Total Tasks</td>
                <td>:</td>
                <td th:text="${#lists.size(tasksOwned)}"></td>
              </tr>
              <tr>
                <td>Task Completed</td>
                <td>:</td>
                <td th:text="${#lists.size(tasksOwned.?[completed])}"></td>
              </tr>
              <tr>
                <td>Task Yet to Complete</td>
                <td>:</td>
                <td th:text="${#lists.size(tasksOwned.?[not completed])}"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="my-container">
      <h5 class="heading" th:text="${user.name}+' Task List:'">T</h5>
      <table
        id="example"
        class="table table-striped table-bordered"
        cellspacing="0"
        width="97%"
      >
        <thead>
          <tr>
            <th>Task Name</th>
            <th>Description</th>
            <th>Date</th>
            <th>Days Left</th>
            <th>Completed</th>
            <th style="text-align: center">Info</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="t : ${tasksOwned}">
            <td class="text-left" th:text="${t.name}"></td>
            <td
              class="text-left d-none d-sm-table-cell"
              th:text="${t.description}"
            ></td>

            <td th:text="${#temporals.format(t.date, 'dd-MM-yyyy')}"></td>

            <!--Days left-->
            <td class="text-center col-1">
              <!--/*/ <th:block th:include="fragments/days-left-until-deadline :: daysLeft(${t})"></th:block> /*/-->
            </td>

            <!--Completed/In progress-->
            <td>
              <a
                th:href="${t.completed} ? ${'/profile/unmark-done/' + t.id} : ${'/profile/mark-done/' + t.id}"
                th:class="${t.owner==null} ? 'disabled nav-link my-link' : 'nav-link my-link'"
                ><i
                  th:class="${t.completed} ? 'far fa-check-square my-check':'far fa-square my-check'"
                ></i>
              </a>
            </td>

            <td>
              <button class="info-button" onclick="showModal(this)" th:attr="data-taskid=${t.id}"><img class="infoimg" src="/images/icons8-info.svg" alt=""></button>
            </td>
          </tr>

          <tr th:if="${user.tasksOwned.size()==0}">
            <td
              colspan="5"
              th:text="${'There are no tasks assigned to '+ user.name}"
            ></td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- Modal -->
<div class="modal fade" id="taskModal" tabindex="-1" role="dialog" aria-labelledby="taskModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content modal-info">
          <div class="modal-header">
              <h5 class="modal-title" id="taskModalLabel">Task Details</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <p><strong>Title: </strong><span id="taskTitle"></span></p>
              <p><strong>Date: </strong><span id="taskDate"></span></p>
              <p><strong>Description: </strong><span id="taskDescription"></span></p>
              <p><strong>Creator: </strong><span id="taskCreator"></span></p>
              <p><strong>Completed: </strong><span id="taskCompleted"></span></p>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
      </div>
  </div>
</div>

    <!--remain scroll position after redirect-->
    <script src="js/main.js"></script>
    <script th:src="@{/js/profile.js}"></script>
    <script>
      function showModal(button) {
          var taskId = button.getAttribute("data-taskid");
          console.log(taskId)
          // AJAX call to fetch all tasks
          $.ajax({
              url: "/calendartasks", // Update the URL to match your endpoint
              type: "GET",
              success: function(tasks) {
                  // Filter the tasks based on the provided task ID
                  var task = tasks.find(t => t.id == taskId);
                  if (task) {
                      // Populate modal with task details
                      $('#taskTitle').text(task.name);
                      $('#taskDescription').text(task.description);
                      $('#taskDate').text(task.date);
                      $('#taskCreator').text(task.creatorName)
                      $('#taskCompleted').text(task.completed ? 'Completed' : 'In Progress');
  
                      // Show the modal
                      $('#taskModal').modal('show');
                  } else {
                      alert("Task not found");
                  }
              },
              error: function() {
                  alert("Failed to fetch tasks");
              }
          });
      }
  </script>
  
  
  </body>
</html>
